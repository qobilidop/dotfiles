#!/usr/bin/env bash
#
# Automate the process to use chsh for non-standard shells, by appending the
# shell to /etc/shells when necessary.
#
# Example:
#     chsh-ns $(which zsh)
#

new_shell="$1"
# Check if new_shell is already in /ets/shells.
if grep -q "^$new_shell$" /etc/shells; then
    echo "$new_shell is already in /ets/shells"
else
    echo "Appending $new_shell to /ets/shells"
    echo "$new_shell" | sudo tee -a /etc/shells
fi
chsh -s "$new_shell"
